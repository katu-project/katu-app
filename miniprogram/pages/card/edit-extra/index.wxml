<cu-custom bgColor="bg-cyan" isBack="{{true}}">
  <view slot="backText">返回</view>
  <view slot="content">附加数据</view>
</cu-custom>

<view class="page">
  <view class="margin-tb" style="min-height: 40vh;border-bottom: 1px solid darkcyan">
    <view class="cu-form-group" wx:for="{{list}}" wx:key="key">
      <view class="title">{{item.name}} :</view>
      <input focus="{{index == list.length-1}}" value="{{item.value}}" data-idx="{{index}}" bindinput="onBindinput" placeholder="输入{{item.name}}"></input>
      <view bindtap="tapToRemoveLabel" data-key="{{item.key}}" class="text-lg margin-left padding-xs bg-red light flex-col br-12">
        <text class="cuIcon-move"></text>
      </view>
    </view>
    <view wx:if="{{!list.length}}" class="text-center padding-top margin-top">
      <text class="text-gray">点击下方 <text class="cuIcon-add text-orange"></text> 添加数据</text>
    </view>
  </view>
  <view class="padding">
    <text class="cuIcon-warn text-grey text-sm"> 如果卡片启用加密，附加的数据也会与卡片一起加密保存。</text>
  </view>
  <view class="padding flex-row justify-center" style="align-items: center">
    <button class="bg-cyan gfw br-14" disabled="{{!dataChange}}" style="margin: 0 10px" bindtap="tapToSave">保存</button>
    <picker range='{{labels}}' bindchange="onBindchange" range-key='name'>
      <view class="text-xl padding-sm bg-orange flex-col br-14">
        <text class="cuIcon-add"></text>
      </view>
    </picker>
  </view>
</view>